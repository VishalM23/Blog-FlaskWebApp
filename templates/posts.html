{% extends 'base.html' %}

{% block head %}
<title>Posts</title> 
{% endblock %}

{% block body %}
<div>
    <hr/>
    <h1 style="display: inline;">All Posts</h1>
    <a style="display: inline;" class='btn btn-success float-right' href="/posts/new">+ New Post</a>
</div>

    <hr>

    {% for post in posts %}
        <h2>{{ post.title }}</h2>

        {% if post.author %}
            <small><strong>By {{ post.author }} at {{post.date_posted}}</strong>  </small>
        {% else %}
            <h3>By: N/A</h3>
        {% endif %}
        
        <p style="white-space: pre-wrap">{{ post.content }}</p>
        <a class="btn btn-danger" href='/posts/delete/{{post.id}}'>Delete</a>
        <a class="btn btn-info" href='/posts/edit/{{post.id}}'>Edit</a>
        <hr>
    {% endfor%}

{% endblock %}